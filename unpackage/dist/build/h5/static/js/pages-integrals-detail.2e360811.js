(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-integrals-detail"],{"00c9":function(e,t,n){var o=n("83a9");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("4f06").default;a("f26fbb8c",o,!0,{sourceMap:!1,shadowMode:!1})},"03f7":function(e,t,n){"use strict";var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=o(n("1da1")),i={computed:{},data:function(){return{pointGood:{},useTips:[{title:"使用条件",value:""},{title:"优惠形式",value:"免最高1件"},{title:"有效期",value:"领券当日开始90天内有效"},{title:"使用时段",value:"00:00:00~23:59:59"},{title:"使用限制",value:"不限制"},{title:"兑换限制",value:"不限制"},{title:"活动商品",value:"不限制商品"},{title:"是否与其他优惠共享",value:"否"},{title:"使用场景",value:"仅外卖、堂食可用"}],show:!1,member:null}},onLoad:function(e){var t=e.id;this.id=t,this.getUserInfo(),this.getCoupon()},methods:{getUserInfo:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$u.get("/userinfo");case 2:e.member=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getCoupon:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$u.get("/coupon/".concat(e.id));case 2:n=t.sent,e.pointGood=n,e.useTips[0].value=e.pointGood.enough?"满立减":"无门槛",console.log(e.pointGood);case 6:case"end":return t.stop()}}),t)})))()},duihuan:function(){var e=this;uni.showModal({title:"提示",confirmColor:"#adb838",content:"是否立即兑换？",success:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.confirm){t.next=6;break}return t.next=3,e.$u.put("/coupon",{couponId:e.pointGood._id});case 3:e.getCoupon(),e.getUserInfo(),uni.showToast({title:"兑换成功！",icon:"success"});case 6:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()})},confirm:function(){return(0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}};t.default=i},"83a9":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1789197_z1gzlwq7idq.ttf?t=1589441233693) format("truetype")}.iconfont[data-v-5e309cae]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconshoucang[data-v-5e309cae]:before{content:"\\e667"}.iconshoucangfill[data-v-5e309cae]:before{content:"\\e6c9"}.iconjifen[data-v-5e309cae]:before{content:"\\e642"}.iconradio-button-off[data-v-5e309cae]:before{content:"\\e688"}.iconradio-button-on[data-v-5e309cae]:before{content:"\\e689"}.iconhelp[data-v-5e309cae]:before{content:"\\e752"}.iconwxpay[data-v-5e309cae]:before{content:"\\e611"}.iconbalance[data-v-5e309cae]:before{content:"\\e619"}.iconadd-select[data-v-5e309cae]:before{content:"\\e7b0"}.iconsami-select[data-v-5e309cae]:before{content:"\\e7b1"}.iconmap[data-v-5e309cae]:before{content:"\\e758"}.iconsuccess[data-v-5e309cae]:before{content:"\\e767"}.iconsuccess-fill[data-v-5e309cae]:before{content:"\\e78d"}.iconiconset0136[data-v-5e309cae]:before{content:"\\e623"}.iconzan[data-v-5e309cae]:before{content:"\\e640"}.iconjifenqiandao[data-v-5e309cae]:before{content:"\\e6a6"}.iconshouyeshouye[data-v-5e309cae]:before{content:"\\e606"}.icondaohang[data-v-5e309cae]:before{content:"\\e641"}.iconwodelianxikefu[data-v-5e309cae]:before{content:"\\e671"}.iconwodexinyuan[data-v-5e309cae]:before{content:"\\e675"}.iconphone[data-v-5e309cae]:before{content:"\\e6dd"}.icondingdan[data-v-5e309cae]:before{content:"\\e645"}.iconliwu[data-v-5e309cae]:before{content:"\\e61c"}.iconyinpinyinliao[data-v-5e309cae]:before{content:"\\e60d"}.iconyinpin[data-v-5e309cae]:before{content:"\\e70b"}.iconwaimaixinxi[data-v-5e309cae]:before{content:"\\e685"}.iconico[data-v-5e309cae]:before{content:"\\e646"}.iconwode[data-v-5e309cae]:before{content:"\\e616"}.icongengduofuwu[data-v-5e309cae]:before{content:"\\e607"}.iconqucan[data-v-5e309cae]:before{content:"\\e625"}.iconyou[data-v-5e309cae]:before{content:"\\e618"}.iconshouhuodizhi[data-v-5e309cae]:before{content:"\\e666"}.iconshangcheng[data-v-5e309cae]:before{content:"\\e63b"}.iconadd[data-v-5e309cae]:before{content:"\\e742"}.iconarrow-right[data-v-5e309cae]:before{content:"\\e743"}.iconarrow-lift[data-v-5e309cae]:before{content:"\\e744"}.iconarrow-up[data-v-5e309cae]:before{content:"\\e745"}.iconclose[data-v-5e309cae]:before{content:"\\e747"}.iconleftbutton[data-v-5e309cae]:before{content:"\\e755"}.iconreduce[data-v-5e309cae]:before{content:"\\e75e"}.iconseleted[data-v-5e309cae]:before{content:"\\e763"}.iconRightbutton[data-v-5e309cae]:before{content:"\\e765"}.iconleftbutton-fill[data-v-5e309cae]:before{content:"\\e782"}.iconRightbutton-fill[data-v-5e309cae]:before{content:"\\e78a"}.iconarrow-down[data-v-5e309cae]:before{content:"\\e7b2"}.iconaixin1[data-v-5e309cae]:before{content:"\\e63c"}.duihuan[data-v-5e309cae]{text-align:center;padding:%?20?% 0}.btn-box[data-v-5e309cae]{position:fixed;bottom:0;left:0;right:0;height:%?150?%;padding:%?30?%;z-index:10;background-color:#fff;box-shadow:0 0 %?20?% rgba(0,0,0,.1)}.btn-box uni-button[data-v-5e309cae]{border-radius:50rem!important;height:100%;display:flex;align-items:center;justify-content:center}.coupon-box[data-v-5e309cae]{width:100%;padding:%?30?% %?50?%}.coupon-box .coupon[data-v-5e309cae]{background-color:#fff;padding:%?40?%;border-radius:%?10?%;display:flex;align-items:center;position:relative}.coupon-box .coupon uni-image[data-v-5e309cae]{width:%?180?%;height:%?120?%;margin-right:%?30?%}.coupon-box .coupon .intro[data-v-5e309cae]{flex:1;display:flex;flex-direction:column}.coupon-box .coupon .intro .goods-name[data-v-5e309cae]{font-size:%?32?%;color:#5a5b5c;margin-bottom:%?10?%}.coupon-box .coupon .intro .expire[data-v-5e309cae]{font-size:%?22?%;color:#919293}.coupon-box .coupon[data-v-5e309cae]::before{content:" ";position:absolute;background-color:#f1f8fa;width:%?40?%;height:%?40?%;z-index:10;border-radius:100%;left:%?-20?%}.coupon-box .coupon[data-v-5e309cae]::after{content:" ";position:absolute;background-color:#f1f8fa;width:%?40?%;height:%?40?%;z-index:10;border-radius:100%;right:%?-20?%}.points-and-stocks[data-v-5e309cae]{padding:0 %?50?%;display:flex;justify-content:space-between;align-items:center;margin-bottom:%?30?%}.points-and-stocks .points[data-v-5e309cae]{display:flex;align-items:baseline}',""]),e.exports=t},"8a68":function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container position-relative"},[n("v-uni-view",{staticStyle:{"padding-bottom":"150rpx"}},[[n("v-uni-view",{staticClass:"coupon-box"},[n("v-uni-view",{staticClass:"coupon"},[n("v-uni-image",{attrs:{src:"/static/images/integrals/ticket.png",mode:"center"}}),n("v-uni-view",{staticClass:"intro"},[n("v-uni-view",{staticClass:"goods-name"},[e._v(e._s(e.pointGood.name))]),n("v-uni-view",{staticClass:"expire"},[e._v("有效期：领券当日开始90天内有效")])],1)],1)],1),n("v-uni-view",{staticClass:"points-and-stocks"},[n("v-uni-view",{staticClass:"points"},[n("v-uni-view",{staticClass:"font-size-lg text-color-primary font-weight-bold mr-10"},[e._v(e._s(e.pointGood.consume))]),n("v-uni-view",{staticClass:"font-size-sm text-color-base"},[e._v("积分")])],1),n("v-uni-view",{staticClass:"stocks font-size-sm text-color-base"},[e._v("剩余"),n("v-uni-text",{staticClass:"text-color-primary"},[e._v(e._s(e.pointGood.count))]),e._v("件")],1)],1),n("v-uni-view",{staticClass:"w-100 bg-white",staticStyle:{padding:"30rpx"}},[n("v-uni-view",{staticClass:"d-flex align-items-center font-size-lg font-weight-bold line-height-2"},[e._v("兑换须知")]),n("v-uni-view",{staticClass:"font-size-base text-color-assist"},[e._v("兑换规则：会员可凭"+e._s(e.pointGood.consume)+"积分兑换“"+e._s(e.pointGood.name)+"券”1件，售后服务：虚拟券不支持退换货服务，请先确认后兑换。")]),n("v-uni-view",{staticClass:"d-flex align-items-center font-size-lg font-weight-bold line-height-2"},[e._v("使用须知")]),e._l(e.useTips,(function(t,o){return n("v-uni-view",{key:o,staticClass:"font-size-base text-color-base line-height-2 d-flex align-items-center"},[n("v-uni-view",[e._v(e._s(t.title)+"：")]),n("v-uni-view",{staticClass:"font-weight-bold"},[e._v(e._s(t.value))])],1)}))],2)],e.member?n("v-uni-view",{staticClass:"btn-box"},[n("v-uni-button",{attrs:{type:"primary",disabled:e.member.consum<e.pointGood.consume},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.duihuan.apply(void 0,arguments)}}},[e._v(e._s(e.member.consum<e.pointGood.consume?"积分不足":"立即兑换"))])],1):e._e()],2)],1)},i=[]},"995a":function(e,t,n){"use strict";var o=n("00c9"),a=n.n(o);a.a},cc33:function(e,t,n){"use strict";n.r(t);var o=n("03f7"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},fba5:function(e,t,n){"use strict";n.r(t);var o=n("8a68"),a=n("cc33");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("995a");var c,r=n("f0c5"),s=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"5e309cae",null,!1,o["a"],c);t["default"]=s.exports}}]);