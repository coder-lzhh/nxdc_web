(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-orders-orders"],{"1e03":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={listCell:n("9fbc").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"orders-list d-flex flex-column w-100",staticStyle:{padding:"20rpx","padding-bottom":"0"}},t._l(t.orders,(function(e,o){return n("v-uni-view",{key:o,staticClass:"order-item",staticStyle:{"margin-bottom":"30rpx"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.detail(e._id)}}},[n("list-cell",{attrs:{hover:!1}},[n("v-uni-view",{staticClass:"w-100 d-flex align-items-center"},[n("v-uni-view",{staticClass:"flex-fill d-flex flex-column"},[e.isOrderOut?n("v-uni-view",{staticClass:"font-size-lg text-color-base",staticStyle:{"margin-bottom":"20rpx"}},[n("v-uni-view",{},[t._v(t._s(e.orderOut.address))]),n("v-uni-view",{staticClass:"font-size-base"},[t._v(t._s(e.orderOut.name)+" - "+t._s(e.orderOut.phone))])],1):n("v-uni-view",{staticClass:"font-size-lg text-color-base",staticStyle:{"margin-bottom":"20rpx"}},[t._v("第一饭堂")]),n("v-uni-view",{staticClass:"font-size-sm text-color-assist"},[t._v("订单编号："+t._s(e._id))])],1),n("v-uni-view",{staticClass:"font-size-lg text-color-primary"},[t._v(t._s(e.postscript))])],1)],1),n("list-cell",{attrs:{hover:!1,last:!0}},[n("v-uni-view",{staticClass:"w-100 d-flex flex-column"},[n("v-uni-view",{staticClass:"w-100 text-truncate font-size-lg text-color-base",staticStyle:{"margin-bottom":"20rpx"}},[t._v(t._s(t.orderGoodsName(e.goods)))]),n("v-uni-view",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{"margin-bottom":"30rpx"}},[n("v-uni-view",{staticClass:"font-size-sm text-color-assist"},[t._v(t._s(new Date(e.createdAt).toLocaleString()))]),n("v-uni-view",{staticClass:"d-flex font-size-sm text-color-base align-items-center"},[n("v-uni-view",{staticStyle:{"margin-right":"10rpx"}},[t._v("共"+t._s(t._f("amount")(e.goods))+"件商品，实付")]),n("v-uni-view",{staticClass:"font-size-lg"},[t._v("￥"+t._s(e.priceTotal))])],1)],1),n("v-uni-view",{staticClass:"d-flex align-items-center justify-content-end"},[n("v-uni-view",["制作中"===e.postscript?n("v-uni-button",{attrs:{type:"primary",plain:!0,size:"mini"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.successOrder(e)}}},[t._v("确认收货")]):t._e(),"已完成"!==e.postscript||e.evaluate?t._e():n("v-uni-button",{attrs:{type:"primary",plain:!0,size:"mini"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.comment(e)}}},[t._v("去评价")]),"已完成"===e.postscript&&e.evaluate?n("v-uni-button",{attrs:{type:"primary",plain:!0,size:"mini"}},[t._v("已评价")]):t._e()],1)],1)],1)],1)],1)})),1)],1)},a=[]},3203:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"tui-cell-class tui-list-cell",class:{"tui-cell-arrow":t.arrow,"tui-cell-last":t.last,"tui-line-left":t.lineLeft,"tui-line-right":t.lineRight,"tui-radius":t.radius},style:{background:t.bgcolor,fontSize:t.size+"rpx",color:t.color,padding:t.padding},attrs:{"hover-class":t.hover?"tui-cell-hover":"","hover-stay-time":150},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)}}},[t._t("default"),t.arrow?n("v-uni-image",{staticClass:"arrow",attrs:{src:"/static/images/navigator-1.png"}}):t._e()],2)},a=[]},3774:function(t,e,n){var o=n("82fc");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("125acdd6",o,!0,{sourceMap:!1,shadowMode:!1})},"457e":function(t,e,n){"use strict";var o=n("3774"),i=n.n(o);i.a},5475:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"ListCell",props:{arrow:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},lineLeft:{type:Boolean,default:!1},lineRight:{type:Boolean,default:!1},padding:{type:String,default:"26rpx 30rpx"},last:{type:Boolean,default:!1},radius:{type:Boolean,default:!1},bgcolor:{type:String,default:"#fff"},size:{type:Number,default:28},color:{type:String,default:"#5A5B5C"},index:{type:Number,default:0}},methods:{handleClick:function(){this.$emit("click",{index:this.index})}}};e.default=o},"7a73":function(t,e,n){"use strict";n.r(e);var o=n("1e03"),i=n("8d54");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);var r,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"2666a9b0",null,!1,o["a"],r);e["default"]=s.exports},"82fc":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1789197_z1gzlwq7idq.ttf?t=1589441233693) format("truetype")}.iconfont[data-v-0616d608]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconshoucang[data-v-0616d608]:before{content:"\\e667"}.iconshoucangfill[data-v-0616d608]:before{content:"\\e6c9"}.iconjifen[data-v-0616d608]:before{content:"\\e642"}.iconradio-button-off[data-v-0616d608]:before{content:"\\e688"}.iconradio-button-on[data-v-0616d608]:before{content:"\\e689"}.iconhelp[data-v-0616d608]:before{content:"\\e752"}.iconwxpay[data-v-0616d608]:before{content:"\\e611"}.iconbalance[data-v-0616d608]:before{content:"\\e619"}.iconadd-select[data-v-0616d608]:before{content:"\\e7b0"}.iconsami-select[data-v-0616d608]:before{content:"\\e7b1"}.iconmap[data-v-0616d608]:before{content:"\\e758"}.iconsuccess[data-v-0616d608]:before{content:"\\e767"}.iconsuccess-fill[data-v-0616d608]:before{content:"\\e78d"}.iconiconset0136[data-v-0616d608]:before{content:"\\e623"}.iconzan[data-v-0616d608]:before{content:"\\e640"}.iconjifenqiandao[data-v-0616d608]:before{content:"\\e6a6"}.iconshouyeshouye[data-v-0616d608]:before{content:"\\e606"}.icondaohang[data-v-0616d608]:before{content:"\\e641"}.iconwodelianxikefu[data-v-0616d608]:before{content:"\\e671"}.iconwodexinyuan[data-v-0616d608]:before{content:"\\e675"}.iconphone[data-v-0616d608]:before{content:"\\e6dd"}.icondingdan[data-v-0616d608]:before{content:"\\e645"}.iconliwu[data-v-0616d608]:before{content:"\\e61c"}.iconyinpinyinliao[data-v-0616d608]:before{content:"\\e60d"}.iconyinpin[data-v-0616d608]:before{content:"\\e70b"}.iconwaimaixinxi[data-v-0616d608]:before{content:"\\e685"}.iconico[data-v-0616d608]:before{content:"\\e646"}.iconwode[data-v-0616d608]:before{content:"\\e616"}.icongengduofuwu[data-v-0616d608]:before{content:"\\e607"}.iconqucan[data-v-0616d608]:before{content:"\\e625"}.iconyou[data-v-0616d608]:before{content:"\\e618"}.iconshouhuodizhi[data-v-0616d608]:before{content:"\\e666"}.iconshangcheng[data-v-0616d608]:before{content:"\\e63b"}.iconadd[data-v-0616d608]:before{content:"\\e742"}.iconarrow-right[data-v-0616d608]:before{content:"\\e743"}.iconarrow-lift[data-v-0616d608]:before{content:"\\e744"}.iconarrow-up[data-v-0616d608]:before{content:"\\e745"}.iconclose[data-v-0616d608]:before{content:"\\e747"}.iconleftbutton[data-v-0616d608]:before{content:"\\e755"}.iconreduce[data-v-0616d608]:before{content:"\\e75e"}.iconseleted[data-v-0616d608]:before{content:"\\e763"}.iconRightbutton[data-v-0616d608]:before{content:"\\e765"}.iconleftbutton-fill[data-v-0616d608]:before{content:"\\e782"}.iconRightbutton-fill[data-v-0616d608]:before{content:"\\e78a"}.iconarrow-down[data-v-0616d608]:before{content:"\\e7b2"}.iconaixin1[data-v-0616d608]:before{content:"\\e63c"}.tui-list-cell[data-v-0616d608]{position:relative;width:100%;box-sizing:border-box;overflow:hidden;display:flex;align-items:center}.tui-radius[data-v-0616d608]{border-radius:%?12?%;overflow:hidden}.tui-cell-hover[data-v-0616d608]{background:#f7f7f9!important}.tui-list-cell[data-v-0616d608]::after{content:"";position:absolute;border-bottom:%?2?% solid #eee;-webkit-transform:scaleY(.8);transform:scaleY(.8);bottom:0;right:0;left:0}.tui-line-left[data-v-0616d608]::after{left:%?30?%!important}.tui-line-right[data-v-0616d608]::after{right:%?30?%!important}.tui-cell-last[data-v-0616d608]::after{border-bottom:0!important}.arrow[data-v-0616d608]{width:%?50?%;height:%?50?%;position:relative;margin-right:%?-10?%;flex-shrink:0}',""]),t.exports=e},"8d54":function(t,e,n){"use strict";n.r(e);var o=n("a62b"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},9066:function(t,e,n){"use strict";n.r(e);var o=n("5475"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},"9fbc":function(t,e,n){"use strict";n.r(e);var o=n("3203"),i=n("9066");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("457e");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"0616d608",null,!1,o["a"],r);e["default"]=s.exports},a62b:function(t,e,n){"use strict";var o=n("4ea4");n("4160"),n("13d5"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=o(n("1da1")),a=o(n("9fbc")),r={components:{listCell:a.default},data:function(){return{page:1,pageSize:5,orders:[]}},filters:{amount:function(t){return t.reduce((function(t,e){return t+e.number}),0)}},computed:{orderGoodsName:function(){return function(t){var e=[];return t.forEach((function(t){return e.push(t.name+"*"+t.number)})),e.join("，")}}},onShow:function(){this.getOrders(!1)},methods:{getOrders:function(){var t=arguments,e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.length>0&&void 0!==t[0]&&t[0],uni.showLoading({title:"加载中"}),n.next=4,e.$u.get("/orders");case 4:o=n.sent,e.orders=o,console.log(o),uni.hideLoading();case 8:case"end":return n.stop()}}),n)})))()},detail:function(t){uni.navigateTo({url:"/pages/orders/detail?id="+t})},successOrder:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.postscript="已完成",n.next=3,e.$u.put("/order/".concat(t._id),{postscript:"已完成"});case 3:n.sent,uni.showToast({title:"收货成功",icon:"success"});case 5:case"end":return n.stop()}}),n)})))()},comment:function(t){console.log(t),uni.navigateTo({url:"/pages/comment/comment?id="+t._id})},goToInvoice:function(){uni.navigateTo({url:"/pages/invoice/invoice"})}}};e.default=r}}]);