(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"14d1":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var o=a(n("1da1")),i={data:function(){return{user:{userPhone:"",password:"",confirmPassword:""},isLogin:!0}},computed:{placeText:function(){return this.isLogin?"密码":"请输入至少六位数的密码"}},methods:{changeMode:function(){this.isLogin=!this.isLogin,this.user={userPhone:"",password:"",confirmPassword:""}},login:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.userPhone){e.next=3;break}return t.$refs.uToast.show({title:"手机号码不能为空",type:"error"}),e.abrupt("return");case 3:if(t.user.password){e.next=6;break}return t.$refs.uToast.show({title:"请输入至少六位数的密码",type:"error"}),e.abrupt("return");case 6:if(!t.isLogin){e.next=22;break}return e.next=9,t.$u.post("/login",t.user);case 9:if(n=e.sent,401!==n.code){e.next=14;break}t.$refs.uToast.show({title:n.message,type:"error"}),e.next=20;break;case 14:return uni.setStorageSync("TokenKey",n.token),e.next=17,t.$u.get("/userinfo");case 17:e.sent,uni.showToast({title:"登录成功",icon:"success"}),setTimeout((function(){uni.navigateBack(),uni.hideToast()}),2e3);case 20:e.next=30;break;case 22:if(t.user.password===t.user.confirmPassword){e.next=25;break}return t.$refs.uToast.show({title:"密码不一致",type:"error"}),e.abrupt("return");case 25:return e.next=27,t.$u.post("/register",t.user);case 27:a=e.sent,console.log(a),401===a.code?t.$refs.uToast.show({title:a.message,type:"error"}):200===a.code&&uni.showToast({title:a.message,icon:"success",success:function(){t.isLogin=!t.isLogin,t.user.password="",t.user.confirmPassword=""}});case 30:case"end":return e.stop()}}),e)})))()}}};e.default=i},"16bb":function(t,e,n){"use strict";n("c975"),n("a9e3"),n("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"u-toast",props:{zIndex:{type:[Number,String],default:""}},data:function(){return{isShow:!1,timer:null,config:{params:{},title:"",type:"",duration:2e3,isTab:!1,url:"",icon:!0,position:"center",callback:null,back:!1},tmpConfig:{}}},computed:{iconName:function(){if(["error","warning","success","info"].indexOf(this.tmpConfig.type)>=0&&this.tmpConfig.icon){var t=this.$u.type2icon(this.tmpConfig.type);return t}},uZIndex:function(){return this.isShow?this.zIndex?this.zIndex:this.$u.zIndex.toast:"999999"}},methods:{show:function(t){var e=this;this.tmpConfig=this.$u.deepMerge(this.config,t),this.timer&&(clearTimeout(this.timer),this.timer=null),this.isShow=!0,this.timer=setTimeout((function(){e.isShow=!1,clearTimeout(e.timer),e.timer=null,"function"===typeof e.tmpConfig.callback&&e.tmpConfig.callback(),e.timeEnd()}),this.tmpConfig.duration)},hide:function(){this.isShow=!1,this.timer&&(clearTimeout(this.timer),this.timer=null)},timeEnd:function(){if(this.tmpConfig.url){if("/"!=this.tmpConfig.url[0]&&(this.tmpConfig.url="/"+this.tmpConfig.url),Object.keys(this.tmpConfig.params).length){var t="";/.*\/.*\?.*=.*/.test(this.tmpConfig.url)?(t=this.$u.queryParams(this.tmpConfig.params,!1),this.tmpConfig.url=this.tmpConfig.url+"&"+t):(t=this.$u.queryParams(this.tmpConfig.params),this.tmpConfig.url+=t)}this.tmpConfig.isTab?uni.switchTab({url:this.tmpConfig.url}):uni.navigateTo({url:this.tmpConfig.url})}else this.tmpConfig.back&&this.$u.route({type:"back"})}}};e.default=a},1703:function(t,e,n){"use strict";n.r(e);var a=n("af14"),o=n("8001");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("ca13");var r,c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"a2373584",null,!1,a["a"],r);e["default"]=s.exports},"25ec":function(t,e,n){"use strict";var a=n("46e4f"),o=n.n(a);o.a},"29bb":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1789197_z1gzlwq7idq.ttf?t=1589441233693) format("truetype")}.iconfont[data-v-070c62ba]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconshoucang[data-v-070c62ba]:before{content:"\\e667"}.iconshoucangfill[data-v-070c62ba]:before{content:"\\e6c9"}.iconjifen[data-v-070c62ba]:before{content:"\\e642"}.iconradio-button-off[data-v-070c62ba]:before{content:"\\e688"}.iconradio-button-on[data-v-070c62ba]:before{content:"\\e689"}.iconhelp[data-v-070c62ba]:before{content:"\\e752"}.iconwxpay[data-v-070c62ba]:before{content:"\\e611"}.iconbalance[data-v-070c62ba]:before{content:"\\e619"}.iconadd-select[data-v-070c62ba]:before{content:"\\e7b0"}.iconsami-select[data-v-070c62ba]:before{content:"\\e7b1"}.iconmap[data-v-070c62ba]:before{content:"\\e758"}.iconsuccess[data-v-070c62ba]:before{content:"\\e767"}.iconsuccess-fill[data-v-070c62ba]:before{content:"\\e78d"}.iconiconset0136[data-v-070c62ba]:before{content:"\\e623"}.iconzan[data-v-070c62ba]:before{content:"\\e640"}.iconjifenqiandao[data-v-070c62ba]:before{content:"\\e6a6"}.iconshouyeshouye[data-v-070c62ba]:before{content:"\\e606"}.icondaohang[data-v-070c62ba]:before{content:"\\e641"}.iconwodelianxikefu[data-v-070c62ba]:before{content:"\\e671"}.iconwodexinyuan[data-v-070c62ba]:before{content:"\\e675"}.iconphone[data-v-070c62ba]:before{content:"\\e6dd"}.icondingdan[data-v-070c62ba]:before{content:"\\e645"}.iconliwu[data-v-070c62ba]:before{content:"\\e61c"}.iconyinpinyinliao[data-v-070c62ba]:before{content:"\\e60d"}.iconyinpin[data-v-070c62ba]:before{content:"\\e70b"}.iconwaimaixinxi[data-v-070c62ba]:before{content:"\\e685"}.iconico[data-v-070c62ba]:before{content:"\\e646"}.iconwode[data-v-070c62ba]:before{content:"\\e616"}.icongengduofuwu[data-v-070c62ba]:before{content:"\\e607"}.iconqucan[data-v-070c62ba]:before{content:"\\e625"}.iconyou[data-v-070c62ba]:before{content:"\\e618"}.iconshouhuodizhi[data-v-070c62ba]:before{content:"\\e666"}.iconshangcheng[data-v-070c62ba]:before{content:"\\e63b"}.iconadd[data-v-070c62ba]:before{content:"\\e742"}.iconarrow-right[data-v-070c62ba]:before{content:"\\e743"}.iconarrow-lift[data-v-070c62ba]:before{content:"\\e744"}.iconarrow-up[data-v-070c62ba]:before{content:"\\e745"}.iconclose[data-v-070c62ba]:before{content:"\\e747"}.iconleftbutton[data-v-070c62ba]:before{content:"\\e755"}.iconreduce[data-v-070c62ba]:before{content:"\\e75e"}.iconseleted[data-v-070c62ba]:before{content:"\\e763"}.iconRightbutton[data-v-070c62ba]:before{content:"\\e765"}.iconleftbutton-fill[data-v-070c62ba]:before{content:"\\e782"}.iconRightbutton-fill[data-v-070c62ba]:before{content:"\\e78a"}.iconarrow-down[data-v-070c62ba]:before{content:"\\e7b2"}.iconaixin1[data-v-070c62ba]:before{content:"\\e63c"}.u-toast[data-v-070c62ba]{position:fixed;z-index:-1;transition:opacity .3s;text-align:center;color:#fff;border-radius:%?8?%;background:#585858;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:%?28?%;opacity:0;pointer-events:none;padding:%?18?% %?40?%}.u-toast.u-show[data-v-070c62ba]{opacity:1}.u-icon[data-v-070c62ba]{margin-right:%?10?%;display:flex;flex-direction:row;align-items:center;line-height:normal}.u-position-center[data-v-070c62ba]{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:70%}.u-position-top[data-v-070c62ba]{left:50%;top:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-position-bottom[data-v-070c62ba]{left:50%;bottom:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-type-primary[data-v-070c62ba]{color:#2979ff;background-color:#ecf5ff;border:1px solid #d7eafe}.u-type-success[data-v-070c62ba]{color:#19be6b;background-color:#dbf1e1;border:1px solid #bef5c8}.u-type-error[data-v-070c62ba]{color:#fa3534;background-color:#fef0f0;border:1px solid #fde2e2}.u-type-warning[data-v-070c62ba]{color:#f90;background-color:#fdf6ec;border:1px solid #faecd8}.u-type-info[data-v-070c62ba]{color:#909399;background-color:#f4f4f5;border:1px solid #ebeef5}.u-type-default[data-v-070c62ba]{color:#fff;background-color:#585858}',""]),t.exports=e},"2a86":function(t,e,n){var a=n("d729");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("4f06").default;o("69fb1236",a,!0,{sourceMap:!1,shadowMode:!1})},"46e4f":function(t,e,n){var a=n("29bb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("4f06").default;o("3a5b359a",a,!0,{sourceMap:!1,shadowMode:!1})},8001:function(t,e,n){"use strict";n.r(e);var a=n("14d1"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},"81a2":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={uIcon:n("a7e1").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-toast",class:[t.isShow?"u-show":"","u-type-"+t.tmpConfig.type,"u-position-"+t.tmpConfig.position],style:{zIndex:t.uZIndex}},[n("v-uni-view",{staticClass:"u-icon-wrap"},[t.tmpConfig.icon?n("u-icon",{staticClass:"u-icon",attrs:{name:t.iconName,size:30,color:t.tmpConfig.type}}):t._e()],1),n("v-uni-text",{staticClass:"u-text"},[t._v(t._s(t.tmpConfig.title))])],1)},i=[]},af14:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={uToast:n("b5f5").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("u-toast",{ref:"uToast"}),n("v-uni-view",{staticClass:"intro"},[n("v-uni-image",{attrs:{src:"/static/images/logo.png"}}),n("v-uni-view",{staticClass:"tips"},[t._v("一杯好茶，一口软欧包"),n("br"),t._v("在奈思遇见两种美好")])],1),n("v-uni-view",{staticClass:"inp"},[n("v-uni-input",{staticClass:"number",attrs:{type:"text",placeholder:"手机号码"},model:{value:t.user.userPhone,callback:function(e){t.$set(t.user,"userPhone",e)},expression:"user.userPhone"}}),n("v-uni-input",{staticClass:"pw",attrs:{type:"password",placeholder:t.placeText},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),t.isLogin?t._e():n("v-uni-input",{staticClass:"pw",attrs:{type:"password",placeholder:"再次确认密码"},model:{value:t.user.confirmPassword,callback:function(e){t.$set(t.user,"confirmPassword",e)},expression:"user.confirmPassword"}})],1),n("v-uni-view",{staticClass:"bottom"},[n("v-uni-button",{staticClass:"login-btn",attrs:{type:"primary",size:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v(t._s(t.isLogin?"登录":"注册"))]),n("v-uni-text",{staticClass:"register",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeMode.apply(void 0,arguments)}}},[t._v(t._s(t.isLogin?"注册新账号":"已有账号去登录"))]),n("v-uni-view",{staticClass:"d-flex flex-column justify-content-evenly align-items-center text-center",staticStyle:{height:"30vh"}},[n("v-uni-view",{staticClass:"w-100 font-size-base text-color-assist"},[t._v("新用户登录即加入会员，享会员权益")]),n("v-uni-view",{staticClass:"w-100 row d-flex just-content-around align-items-center font-size-sm text-color-assist"},[n("v-uni-view",{staticClass:"grid"},[n("v-uni-image",{attrs:{src:"/static/images/mine/rhyl.png"}}),n("v-uni-view",[t._v("入会有礼")])],1),n("v-uni-view",{staticClass:"grid"},[n("v-uni-image",{attrs:{src:"/static/images/mine/jfdh.png"}}),n("v-uni-view",[t._v("积分兑换")])],1),n("v-uni-view",{staticClass:"grid"},[n("v-uni-image",{attrs:{src:"/static/images/mine/sjtq.png"}}),n("v-uni-view",[t._v("升级特权")])],1),n("v-uni-view",{staticClass:"grid"},[n("v-uni-image",{attrs:{src:"/static/images/mine/srtq.png"}}),n("v-uni-view",[t._v("生日特权")])],1),n("v-uni-view",{staticClass:"grid"},[n("v-uni-image",{attrs:{src:"/static/images/mine/nxbz.png"}}),n("v-uni-view",[t._v("奈思宝藏")])],1)],1),n("v-uni-view",{staticClass:"font-size-base text-color-primary"},[t._v("会员权益说明")])],1)],1)],1)},i=[]},b5f5:function(t,e,n){"use strict";n.r(e);var a=n("81a2"),o=n("c3e9");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("25ec");var r,c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"070c62ba",null,!1,a["a"],r);e["default"]=s.exports},c3e9:function(t,e,n){"use strict";n.r(e);var a=n("16bb"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},ca13:function(t,e,n){"use strict";var a=n("2a86"),o=n.n(a);o.a},d729:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1789197_z1gzlwq7idq.ttf?t=1589441233693) format("truetype")}.iconfont[data-v-a2373584]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconshoucang[data-v-a2373584]:before{content:"\\e667"}.iconshoucangfill[data-v-a2373584]:before{content:"\\e6c9"}.iconjifen[data-v-a2373584]:before{content:"\\e642"}.iconradio-button-off[data-v-a2373584]:before{content:"\\e688"}.iconradio-button-on[data-v-a2373584]:before{content:"\\e689"}.iconhelp[data-v-a2373584]:before{content:"\\e752"}.iconwxpay[data-v-a2373584]:before{content:"\\e611"}.iconbalance[data-v-a2373584]:before{content:"\\e619"}.iconadd-select[data-v-a2373584]:before{content:"\\e7b0"}.iconsami-select[data-v-a2373584]:before{content:"\\e7b1"}.iconmap[data-v-a2373584]:before{content:"\\e758"}.iconsuccess[data-v-a2373584]:before{content:"\\e767"}.iconsuccess-fill[data-v-a2373584]:before{content:"\\e78d"}.iconiconset0136[data-v-a2373584]:before{content:"\\e623"}.iconzan[data-v-a2373584]:before{content:"\\e640"}.iconjifenqiandao[data-v-a2373584]:before{content:"\\e6a6"}.iconshouyeshouye[data-v-a2373584]:before{content:"\\e606"}.icondaohang[data-v-a2373584]:before{content:"\\e641"}.iconwodelianxikefu[data-v-a2373584]:before{content:"\\e671"}.iconwodexinyuan[data-v-a2373584]:before{content:"\\e675"}.iconphone[data-v-a2373584]:before{content:"\\e6dd"}.icondingdan[data-v-a2373584]:before{content:"\\e645"}.iconliwu[data-v-a2373584]:before{content:"\\e61c"}.iconyinpinyinliao[data-v-a2373584]:before{content:"\\e60d"}.iconyinpin[data-v-a2373584]:before{content:"\\e70b"}.iconwaimaixinxi[data-v-a2373584]:before{content:"\\e685"}.iconico[data-v-a2373584]:before{content:"\\e646"}.iconwode[data-v-a2373584]:before{content:"\\e616"}.icongengduofuwu[data-v-a2373584]:before{content:"\\e607"}.iconqucan[data-v-a2373584]:before{content:"\\e625"}.iconyou[data-v-a2373584]:before{content:"\\e618"}.iconshouhuodizhi[data-v-a2373584]:before{content:"\\e666"}.iconshangcheng[data-v-a2373584]:before{content:"\\e63b"}.iconadd[data-v-a2373584]:before{content:"\\e742"}.iconarrow-right[data-v-a2373584]:before{content:"\\e743"}.iconarrow-lift[data-v-a2373584]:before{content:"\\e744"}.iconarrow-up[data-v-a2373584]:before{content:"\\e745"}.iconclose[data-v-a2373584]:before{content:"\\e747"}.iconleftbutton[data-v-a2373584]:before{content:"\\e755"}.iconreduce[data-v-a2373584]:before{content:"\\e75e"}.iconseleted[data-v-a2373584]:before{content:"\\e763"}.iconRightbutton[data-v-a2373584]:before{content:"\\e765"}.iconleftbutton-fill[data-v-a2373584]:before{content:"\\e782"}.iconRightbutton-fill[data-v-a2373584]:before{content:"\\e78a"}.iconarrow-down[data-v-a2373584]:before{content:"\\e7b2"}.iconaixin1[data-v-a2373584]:before{content:"\\e63c"}.inp[data-v-a2373584]{padding:%?20?% %?40?%}.number[data-v-a2373584]{padding-left:2vw;height:6vh;margin:1vh 0;border:1px solid #adb838;border-radius:2vh;color:#adb838}.number[data-v-a2373584]::-webkit-input-placeholder{\r\n  /* WebKit browsers */color:#adb838}.pw[data-v-a2373584]{padding-left:2vw;height:6vh;margin:1vh 0;border:1px solid #adb838;border-radius:2vh;color:#adb838}.pw[data-v-a2373584]::-webkit-input-placeholder{\r\n  /* WebKit browsers */color:#adb838}.intro[data-v-a2373584]{width:100%;height:28vh;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;font-size:%?28?%;color:#919293}.intro uni-image[data-v-a2373584]{width:%?165?%;height:%?165?%}.intro .tips[data-v-a2373584]{line-height:%?72?%;text-align:center}.bottom[data-v-a2373584]{height:40vh;display:flex;flex-direction:column;justify-content:space-between;padding:0 %?40?%}.bottom .login-btn[data-v-a2373584]{width:100%;border-radius:50rem!important;display:flex;align-items:center;justify-content:center;padding:%?10?% 0}.bottom .login-btn uni-image[data-v-a2373584]{width:%?36?%;height:%?30?%;margin-right:%?10?%}.bottom .register[data-v-a2373584]{text-align:center;padding-top:2vh}.bottom .row .grid[data-v-a2373584]{width:20%}.bottom .row .grid uni-image[data-v-a2373584]{width:%?60?%;height:%?60?%;margin-bottom:%?10?%}',""]),t.exports=e}}]);